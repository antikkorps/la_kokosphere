---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE, CALENDLY_URL } from '../consts';

const navItems = [
	{ text: 'Accueil', href: '/' },
	{ text: 'Ã€ propos', href: '/about' },
	{ text: 'Services', href: '/services' },
	{ text: 'Blog', href: '/blog' },
	{ text: 'Contact', href: '/contact' },
	{ text: 'Rendez-vous', href: '/rendez-vous' },
];
---

<header class="bg-white shadow-sm sticky top-0 z-50">
	<div class="container-max">
		<div class="flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8">
			<!-- Logo -->
			<div class="flex items-center">
				<a href="/" class="text-2xl font-bold text-primary-600">
					{SITE_TITLE}
				</a>
			</div>

			<!-- Navigation Desktop -->
			<nav class="hidden md:flex items-center space-x-8">
				{navItems.map((item) => (
					<HeaderLink href={item.href}>{item.text}</HeaderLink>
				))}
			</nav>

			<!-- CTA Button -->
			<div class="hidden md:flex items-center space-x-4">
				<a href={CALENDLY_URL} class="btn-primary">
					Prendre rendez-vous
				</a>
			</div>

			<!-- Mobile menu button -->
			<div class="md:hidden">
				<button
					type="button"
					class="text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900"
					aria-label="Toggle menu"
					id="mobile-menu-button"
				>
					<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
					</svg>
				</button>
			</div>
		</div>

		<!-- Mobile menu -->
		<div class="md:hidden hidden" id="mobile-menu">
			<div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t">
				{navItems.map((item) => (
					<a
						href={item.href}
						class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-md"
					>
						{item.text}
					</a>
				))}
				<a
					href={CALENDLY_URL}
					class="block px-3 py-2 text-base font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-md mt-4"
				>
					Prendre rendez-vous
				</a>
			</div>
		</div>
	</div>
</header>

<script>
	const mobileMenuButton = document.getElementById('mobile-menu-button');
	const mobileMenu = document.getElementById('mobile-menu');

	if (mobileMenuButton && mobileMenu) {
		mobileMenuButton.addEventListener('click', () => {
			mobileMenu.classList.toggle('hidden');
		});
	}
</script>
